import{o as c,c as d,a as e,d as C,r as E,g as V,e as l,w as f,t as i,m as k,i as j,j as M,F as R,k as u,s as b,f as v,u as S}from"./index.c146476a.js";import{_ as B}from"./MontreProfil.vue_vue_type_script_setup_true_lang.cf4030ed.js";function F(m,r){return c(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}const L={key:0,class:"p-4 underline"},$=u(" < Retour \xE0 la collection "),A={key:1,class:"p-4 underline"},N=u(" < Retour \xE0 l'accueil "),q={class:"my-5"},D={class:"tiktak-h1 p-2 text-center"},K=u(" Votre produit : "),P={class:"text-gold-normal light:text-black"},T={class:"my-8 mx-4 flex max-w-3xl justify-center gap-5 md:mx-auto md:gap-20"},H=e("span",{class:"sr-only"},"Montre vue de face",-1),J=e("span",{class:"sr-only"},"Montre vue de profil",-1),U={class:"grid grid-cols-1 justify-items-center md:grid-cols-2"},z={class:"flex w-full flex-col gap-3 p-4 font-thin text-gold-normal light:text-black"},G=e("h3",{class:"tiktak-h2"},"Commander le produit",-1),I=e("p",{class:"font-bold"},"Nom",-1),O=e("p",{class:"font-bold"},"Composants",-1),Q=e("div",null,[e("p",{class:"font-bold"},"Prix"),e("p",null,"59,99\u20AC")],-1),W={class:"flex w-full flex-col gap-3 p-4 text-gold-rose light:text-black"},X=e("h3",{class:"tiktak-h2 w-full text-start"},"Supprimer le produit",-1),Y=u(" Supprimer "),Z={class:"tiktak-h2 p-4 text-white"},ee={class:"flex w-full justify-center gap-3"},te=e("button",{type:"button",class:"p-2 text-gold-normal"},"Annuler",-1),se=C({__name:"CommandeMontre",props:{data:null,id:null},async setup(m){var h;let r,g;const p=m,x=S(),o=E((h=p.data)!=null?h:{});if(p.id){let{data:s,error:t}=([r,g]=V(()=>b.from("montre").select("*").eq("id_montre",p.id)),r=await r,g(),r);t?console.log("n'a pas pu charger le table montre :",t):o.value=s[0]}async function w(s,t){const{data:_,error:a}=await b.from("montre").upsert(s);a?t.setErrors([a.message]):(x.push("/montre/"),t.setErrors([]),console.log("R\xE9ussi!"),o.commande.value=!0)}async function y(){const{data:s,error:t}=await b.from("montre").delete().match({id_montre:o.value.id_montre});t?console.error("Erreur \xE0 la suppression de ",o.value,"erreur :",t):x.push("/montre/")}return(s,t)=>{const _=v("RouterLink"),a=v("FormKit");return c(),d(R,null,[m.id?(c(),d("div",L,[l(_,{to:"/montre"},{default:f(()=>[$]),_:1})])):(c(),d("div",A,[l(_,{to:"/"},{default:f(()=>[N]),_:1})])),e("div",q,[e("h1",D,[K,e("span",P,i(o.value.libelle_montre),1)])]),e("section",T,[l(j,k({class:"w-full"},o.value),null,16),H,l(B,k({class:"w-full"},o.value),null,16),J]),e("div",U,[e("section",z,[G,e("div",null,[I,e("p",null,i(o.value.libelle_montre),1)]),e("div",null,[O,e("p",null,"Couleurs du bracelet : "+i(o.value.bracelet),1),e("p",null,"Couleurs du bo\xEEtier : "+i(o.value.boitier),1)]),Q,l(a,{type:"form",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=n=>o.value=n),onSubmit:w,"submit-label":"Commander","submit-attrs":{classes:{input:"tiktak-button-fill bg-gold-normal text-black"}},config:{classes:{label:"tiktak-label text-gold-normal light:text-black",input:"my-1 tiktak-text text-gold-normal light:text-black md:max-w-3xl rounded-md border-2 border-gold-normal light:border-black bg-black p-2 focus-visible:ring-2 focus-visible:ring-gold-normal light:bg-opacity-5",form:"flex flex-col gap-2"}}},{default:f(()=>[l(a,{name:"date_livraison",label:"Date de livraison",type:"date"}),l(a,{name:"commande",label:"J'accepte les conditions g\xE9n\xE9rales de vente",required:"",type:"checkbox","label-class":"font-thin","wrapper-class":"flex gap-2 justify-start items-center"})]),_:1},8,["modelValue"])]),e("section",W,[X,e("button",{type:"button",onClick:t[1]||(t[1]=n=>s.$refs.dialogSupprimer.showModal()),class:"tiktak-button-border border-gold-rose text-gold-rose light:border-black light:text-black"},[Y,l(M(F),{class:"h-5 w-5 stroke-gold-rose light:stroke-black"})]),e("dialog",{ref:"dialogSupprimer",class:"max-w-2xl border-2 border-white bg-black text-center",onClick:t[3]||(t[3]=n=>n.currentTarget.close())},[e("h3",Z," \xCAtes-vous s\xFBr de vouloir supprimer cette montre ("+i(o.value.libelle_montre)+") ? ",1),e("div",ee,[te,e("button",{type:"button",onClick:t[2]||(t[2]=n=>y()),class:"tiktak-button-fill bg-gold-normal"}," Confirmer la suppression ")])],512)])])],64)}}});export{se as _};
